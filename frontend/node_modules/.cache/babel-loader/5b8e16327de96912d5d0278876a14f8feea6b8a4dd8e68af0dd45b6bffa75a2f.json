{"ast":null,"code":"import axios from\"axios\";const API_URL=\"http://localhost:5000/api/auth/\";// Registro (usuario + email + password)\nexport const register=async(usuario,email,password)=>{return await axios.post(API_URL+\"register\",{usuario,email,password});};// Login (usuario + password)\nexport const login=async(usuario,password)=>{const res=await axios.post(API_URL+\"login\",{usuario,password});if(res.data.token){sessionStorage.setItem(\"user\",JSON.stringify({token:res.data.token,usuario:res.data.usuario}));}return res.data;};// Obtener usuario actual desde sessionStorage\nexport function getCurrentUser(){const user=sessionStorage.getItem(\"user\");return user?JSON.parse(user):null;}// Logout\nexport function logout(){sessionStorage.removeItem(\"user\");window.location.href=\"/login\";// redirigir tras logout\n}","map":{"version":3,"names":["axios","API_URL","register","usuario","email","password","post","login","res","data","token","sessionStorage","setItem","JSON","stringify","getCurrentUser","user","getItem","parse","logout","removeItem","window","location","href"],"sources":["/home/administrador/desarrollo_avalmadrid/Comercial_tool/frontend/src/services/authService.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:5000/api/auth/\";\n\n// Registro (usuario + email + password)\nexport const register = async (usuario, email, password) => {\n  return await axios.post(API_URL + \"register\", { usuario, email, password });\n};\n\n// Login (usuario + password)\nexport const login = async (usuario, password) => {\n  const res = await axios.post(API_URL + \"login\", { usuario, password });\n\n  if (res.data.token) {\n    sessionStorage.setItem(\n      \"user\",\n      JSON.stringify({\n        token: res.data.token,\n        usuario: res.data.usuario,\n      })\n    );\n  }\n\n  return res.data;\n};\n\n// Obtener usuario actual desde sessionStorage\nexport function getCurrentUser() {\n  const user = sessionStorage.getItem(\"user\");\n  return user ? JSON.parse(user) : null;\n}\n\n// Logout\nexport function logout() {\n  sessionStorage.removeItem(\"user\");\n  window.location.href = \"/login\"; // redirigir tras logout\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,OAAO,CAAG,iCAAiC,CAEjD;AACA,MAAO,MAAM,CAAAC,QAAQ,CAAG,KAAAA,CAAOC,OAAO,CAAEC,KAAK,CAAEC,QAAQ,GAAK,CAC1D,MAAO,MAAM,CAAAL,KAAK,CAACM,IAAI,CAACL,OAAO,CAAG,UAAU,CAAE,CAAEE,OAAO,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAC,CAC7E,CAAC,CAED;AACA,MAAO,MAAM,CAAAE,KAAK,CAAG,KAAAA,CAAOJ,OAAO,CAAEE,QAAQ,GAAK,CAChD,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAR,KAAK,CAACM,IAAI,CAACL,OAAO,CAAG,OAAO,CAAE,CAAEE,OAAO,CAAEE,QAAS,CAAC,CAAC,CAEtE,GAAIG,GAAG,CAACC,IAAI,CAACC,KAAK,CAAE,CAClBC,cAAc,CAACC,OAAO,CACpB,MAAM,CACNC,IAAI,CAACC,SAAS,CAAC,CACbJ,KAAK,CAAEF,GAAG,CAACC,IAAI,CAACC,KAAK,CACrBP,OAAO,CAAEK,GAAG,CAACC,IAAI,CAACN,OACpB,CAAC,CACH,CAAC,CACH,CAEA,MAAO,CAAAK,GAAG,CAACC,IAAI,CACjB,CAAC,CAED;AACA,MAAO,SAAS,CAAAM,cAAcA,CAAA,CAAG,CAC/B,KAAM,CAAAC,IAAI,CAAGL,cAAc,CAACM,OAAO,CAAC,MAAM,CAAC,CAC3C,MAAO,CAAAD,IAAI,CAAGH,IAAI,CAACK,KAAK,CAACF,IAAI,CAAC,CAAG,IAAI,CACvC,CAEA;AACA,MAAO,SAAS,CAAAG,MAAMA,CAAA,CAAG,CACvBR,cAAc,CAACS,UAAU,CAAC,MAAM,CAAC,CACjCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CAAE;AACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}