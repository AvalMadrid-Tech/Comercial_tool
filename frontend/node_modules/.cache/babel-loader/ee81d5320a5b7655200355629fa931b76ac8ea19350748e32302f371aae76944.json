{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:5000/api/auth/\";\n\n// Registro (usuario + email + password)\nexport const register = async (usuario, email, password) => {\n  return await axios.post(API_URL + \"register\", {\n    usuario,\n    email,\n    password\n  });\n};\n\n// Login (usuario + password)\nexport const login = async (usuario, password) => {\n  const res = await axios.post(API_URL + \"login\", {\n    usuario,\n    password\n  });\n  if (res.data.token) {\n    sessionStorage.setItem(\"user\", JSON.stringify({\n      token: res.data.token,\n      usuario: res.data.usuario\n    }));\n  }\n  return res.data;\n};\n\n// Obtener usuario actual desde sessionStorage\nexport function getCurrentUser() {\n  const user = sessionStorage.getItem(\"user\");\n  return user ? JSON.parse(user) : null;\n}\n\n// Logout\nexport function logout() {\n  sessionStorage.removeItem(\"user\");\n  window.location.href = \"/login\"; // redirigir tras logout\n}","map":{"version":3,"names":["axios","API_URL","register","usuario","email","password","post","login","res","data","token","sessionStorage","setItem","JSON","stringify","getCurrentUser","user","getItem","parse","logout","removeItem","window","location","href"],"sources":["/home/gsr/automatizacion/comercial_tool/frontend/src/services/authService.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:5000/api/auth/\";\n\n// Registro (usuario + email + password)\nexport const register = async (usuario, email, password) => {\n  return await axios.post(API_URL + \"register\", { usuario, email, password });\n};\n\n// Login (usuario + password)\nexport const login = async (usuario, password) => {\n  const res = await axios.post(API_URL + \"login\", { usuario, password });\n\n  if (res.data.token) {\n    sessionStorage.setItem(\n      \"user\",\n      JSON.stringify({\n        token: res.data.token,\n        usuario: res.data.usuario,\n      })\n    );\n  }\n\n  return res.data;\n};\n\n// Obtener usuario actual desde sessionStorage\nexport function getCurrentUser() {\n  const user = sessionStorage.getItem(\"user\");\n  return user ? JSON.parse(user) : null;\n}\n\n// Logout\nexport function logout() {\n  sessionStorage.removeItem(\"user\");\n  window.location.href = \"/login\"; // redirigir tras logout\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,iCAAiC;;AAEjD;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,OAAO,EAAEC,KAAK,EAAEC,QAAQ,KAAK;EAC1D,OAAO,MAAML,KAAK,CAACM,IAAI,CAACL,OAAO,GAAG,UAAU,EAAE;IAAEE,OAAO;IAAEC,KAAK;IAAEC;EAAS,CAAC,CAAC;AAC7E,CAAC;;AAED;AACA,OAAO,MAAME,KAAK,GAAG,MAAAA,CAAOJ,OAAO,EAAEE,QAAQ,KAAK;EAChD,MAAMG,GAAG,GAAG,MAAMR,KAAK,CAACM,IAAI,CAACL,OAAO,GAAG,OAAO,EAAE;IAAEE,OAAO;IAAEE;EAAS,CAAC,CAAC;EAEtE,IAAIG,GAAG,CAACC,IAAI,CAACC,KAAK,EAAE;IAClBC,cAAc,CAACC,OAAO,CACpB,MAAM,EACNC,IAAI,CAACC,SAAS,CAAC;MACbJ,KAAK,EAAEF,GAAG,CAACC,IAAI,CAACC,KAAK;MACrBP,OAAO,EAAEK,GAAG,CAACC,IAAI,CAACN;IACpB,CAAC,CACH,CAAC;EACH;EAEA,OAAOK,GAAG,CAACC,IAAI;AACjB,CAAC;;AAED;AACA,OAAO,SAASM,cAAcA,CAAA,EAAG;EAC/B,MAAMC,IAAI,GAAGL,cAAc,CAACM,OAAO,CAAC,MAAM,CAAC;EAC3C,OAAOD,IAAI,GAAGH,IAAI,CAACK,KAAK,CAACF,IAAI,CAAC,GAAG,IAAI;AACvC;;AAEA;AACA,OAAO,SAASG,MAAMA,CAAA,EAAG;EACvBR,cAAc,CAACS,UAAU,CAAC,MAAM,CAAC;EACjCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ,CAAC,CAAC;AACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}